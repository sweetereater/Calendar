(this.webpackJsonptest3=this.webpackJsonptest3||[]).push([[0],{12:function(t,e,a){t.exports={backdrop:"TaskRedactor_backdrop__1uOoe",taskRedactorContainer:"TaskRedactor_taskRedactorContainer__1vz1e",closingTaskRedactor:"TaskRedactor_closingTaskRedactor__3Umgl",taskInput:"TaskRedactor_taskInput__18Mky",taskContainer:"TaskRedactor_taskContainer__2Uhyk",taskButtons:"TaskRedactor_taskButtons__268fm",successOnEdit:"TaskRedactor_successOnEdit__25_bH"}},17:function(t,e,a){t.exports={dayContainer:"Day_dayContainer__2sceh",dateLink:"Day_dateLink__3OBUb",disabledDateLink:"Day_disabledDateLink__N2FXS",date:"Day_date__1ibu9",taskText:"Day_taskText__1aP2X",greenDot:"Day_greenDot__1o3_N"}},25:function(t,e,a){t.exports={taskItem:"TaskItem_taskItem__2s9KA",taskButtons:"TaskItem_taskButtons__15AvL"}},26:function(t,e,a){t.exports={notificationsContainer:"Notifications_notificationsContainer__O1Q79",notification:"Notifications_notification__3llCc",closeNotification:"Notifications_closeNotification__1iAg7"}},30:function(t,e,a){t.exports={gridTable:"MonthTable_gridTable__19vWq",weekDayName:"MonthTable_weekDayName__S88BT"}},34:function(t,e,a){t.exports={container:"Calendar_container__1jjYu"}},35:function(t,e,a){t.exports={datePanel:"DatePanel_datePanel__3xXDK"}},36:function(t,e,a){t.exports={select:"DateSelect_select__20BfG"}},43:function(t,e,a){},50:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),i=a(22),r=a.n(i),s=(a(43),a(13)),o=a(5),u=a(34),l=a.n(u),d=a(35),j=a.n(d),b=a(36),m=a.n(b),O=a(1);function f(t){var e=t.value,a=t.items,n=t.onChange;return Object(O.jsx)("select",{className:m.a.select,value:e,onChange:function(t){return n(Number(t.currentTarget.value))},children:a.map((function(t,e){return Object(O.jsx)("option",{value:t.number,children:t.title},e)}))})}var h=c.a.memo(f),T=a(4),k=a(2);function _(t,e){var a=[],n=new Date(t,e,1),c=n.getDay(),i=new Date(t,e+1,0).getDate();if(c>0)for(var r=new Date(t,e,0),s=r.getDate(),o=s-c+1;o<=s;o++)a.push({curMonth:r.getMonth(),date:o});for(var u=1;u<=i;u++)a.push({curMonth:n.getMonth(),date:u});if(a.length<42)for(var l=new Date(t,e+1,1).getMonth(),d=1;a.length<42;d++)a.push({curMonth:l,date:d});return a}var g="calendar/SET_YEAR",p="calendar/SET_MONTH",v=new Date,x=v.getFullYear(),N=v.getMonth(),y=v.getDate(),D=_(x,N),C=[{title:"2019",number:2019},{title:"2020",number:2020},{title:"2021",number:2021},{title:"2022",number:2022},{title:"2023",number:2023}],I=[{title:"Jan",number:0},{title:"Feb",number:1},{title:"Mar",number:2},{title:"Apr",number:3},{title:"May",number:4},{title:"Jun",number:5},{title:"Jul",number:6},{title:"Aug",number:7},{title:"Sep",number:8},{title:"Oct",number:9},{title:"Nov",number:10},{title:"Dec",number:11}],M={year:x,month:N,days:D,currentYear:x,currentMonth:N,currentDay:y},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return Object(k.a)(Object(k.a)({},t),{},{year:e.payload,days:_(e.payload,t.month)});case p:return Object(k.a)(Object(k.a)({},t),{},{month:e.payload,days:_(t.year,e.payload)});default:return t}};var E=function(){var t=Object(T.c)((function(t){return t.calendarPage})),e=t.year,a=t.month,n=Object(T.b)();return Object(O.jsxs)("div",{className:j.a.datePanel,children:[Object(O.jsx)(h,{value:e,onChange:function(t){return n(function(t){return{type:g,payload:t}}(t))},items:C}),Object(O.jsx)(h,{value:a,onChange:function(t){return n(function(t){return{type:p,payload:t}}(t))},items:I})]})},w=a(30),A=a.n(w),P=a(17),R=a.n(P),F=a(16),L=a(14),K=a(54),J="tasks/CHANGE_NEW_TASK_TEXT",B="tasks/CHANGE_NEW_TASK_START_TIME",H="tasks/CHANGE_NEW_TASK_END_TIME",W="tasks/CHANGE_NEW_TASK_REMIND_TIME",U="tasks/CREATE_NEW_TASK",V="tasks/DELETE_TASK",Y="tasks/UPDATE_TASK",G="tasks/SHOW_SUCCESSFUL_PANEL",X="tasks/LOAD_TASKS_FROM_LC",Q={newTaskText:"",newTaskStartTime:"10:00",newTaskEndTime:"11:00",newTaskRemindTime:"00:00",tasks:{},isPanelVisible:!1},q=function(t){return t.sort((function(t,e){return t.startTime>e.startTime?1:-1}))},z=function(t){return{type:J,text:t}},Z=function(t){return{type:G,visible:t}},$=function(t){return function(e){var a=localStorage.getItem(t);if(a){var n=JSON.parse(a);n.length>0&&e(function(t,e){return{type:X,date:t,tasks:e}}(t,n))}}},tt=function(t){return function(e,a){var n=a().tasksPage,c={id:Object(K.a)(),text:n.newTaskText,startTime:n.newTaskStartTime,endTime:n.newTaskEndTime,remindTime:n.newTaskRemindTime},i=localStorage.getItem(t);i=i?JSON.parse(i):[],localStorage.setItem(t,JSON.stringify([].concat(Object(L.a)(i),[c]))),e(function(t,e){return{type:U,date:t,newTask:e}}(t,c))}},et=function(t,e){return function(a){var n=JSON.parse(localStorage.getItem(t)).filter((function(t){return t.id!==e}));localStorage.setItem(t,JSON.stringify(n)),a(function(t,e){return{type:V,date:t,id:e}}(t,e))}},at=function(t,e,a,n,c,i){return function(r){var s=JSON.parse(localStorage.getItem(t)).map((function(t){return t.id===e?Object(k.a)(Object(k.a)({},t),{},{text:a,startTime:n,endTime:c,remindTime:i}):t}));localStorage.setItem(t,JSON.stringify(s)),r(function(t,e,a,n,c,i){return{type:Y,date:t,id:e,payload:{text:a,startTime:n,endTime:c,remindTime:i}}}(t,e,a,n,c,i))}},nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case J:return Object(k.a)(Object(k.a)({},t),{},{newTaskText:e.text});case B:return Object(k.a)(Object(k.a)({},t),{},{newTaskStartTime:e.startTime});case H:return Object(k.a)(Object(k.a)({},t),{},{newTaskEndTime:e.endTime});case W:return Object(k.a)(Object(k.a)({},t),{},{newTaskRemindTime:e.remindTime});case U:var a=t.tasks[e.date]||[],n=q([].concat(Object(L.a)(a),[e.newTask]));return Object(k.a)(Object(k.a)({},t),{},{tasks:Object(k.a)(Object(k.a)({},t.tasks),{},Object(F.a)({},e.date,n))});case V:return Object(k.a)(Object(k.a)({},t),{},{tasks:Object(k.a)(Object(k.a)({},t.tasks),{},Object(F.a)({},e.date,t.tasks[e.date].filter((function(t){return t.id!==e.id}))))});case G:return Object(k.a)(Object(k.a)({},t),{},{isPanelVisible:e.visible});case Y:return Object(k.a)(Object(k.a)({},t),{},{tasks:Object(k.a)(Object(k.a)({},t.tasks),{},Object(F.a)({},e.date,q(t.tasks[e.date].map((function(t){return t.id===e.id?Object(k.a)(Object(k.a)({},t),e.payload):t})))))});case X:return Object(k.a)(Object(k.a)({},t),{},{tasks:Object(k.a)(Object(k.a)({},t.tasks),{},Object(F.a)({},e.date,q(e.tasks)))});default:return t}};function ct(t){var e=Object(T.b)(),a=Object(T.c)((function(t){return t.calendarPage})),c=a.year,i=a.month,r=(a.currentDay,t.data),o=r.curMonth,u=r.date,l="".concat(c,"-").concat(o,"-").concat(u),d=Object(T.c)((function(t){return t.tasksPage.tasks}))[l]||[];Object(n.useEffect)((function(){0===d.length&&e($(l))}),[l]);var j="".concat(R.a.dayContainer),b="".concat(R.a.dateLink);o!==i&&(b+=" ".concat(R.a.disabledDateLink));return Object(O.jsx)("div",{className:j,children:Object(O.jsxs)(s.b,{onClick:function(t){return function(t,e){e!==i&&t.preventDefault()}(t,o)},className:b,to:"/date/".concat(l),children:[Object(O.jsxs)("span",{className:R.a.date,children:[" ",u," "]}),d.length>0&&d.slice(0,3).map((function(t){var e=t.text.length<8?t.text:t.text.slice(0,8)+"...";return Object(O.jsxs)("div",{className:R.a.taskText,children:[Object(O.jsx)("span",{className:R.a.greenDot}),Object(O.jsx)("span",{children:e})]},t.id)}))]})})}var it=c.a.memo(ct);var rt=function(){var t=Object(T.c)((function(t){return t.calendarPage.days}));return Object(O.jsxs)("div",{className:A.a.gridTable,children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(t,e){return Object(O.jsx)("div",{className:A.a.weekDayName,children:t},e)})),t.map((function(t,e){return Object(O.jsx)(it,{data:t},e)}))]})};var st=function(){return Object(O.jsxs)("div",{className:l.a.container,children:[Object(O.jsx)(E,{}),Object(O.jsx)(rt,{})]})},ot=a(15),ut=a(8),lt=a.n(ut),dt=a(53),jt=a(25),bt=a.n(jt);var mt=function(t){var e=t.fullDate,a=t.taskData,n=a.id,c=a.text,i=a.startTime,r=a.endTime,o=Object(T.c)((function(t){return t.notificationsPage.timers})).find((function(t){return t.taskId===n})),u=Object(T.b)();return Object(O.jsxs)("div",{className:bt.a.taskItem,children:[Object(O.jsxs)("div",{className:bt.a.taskInfo,children:[Object(O.jsx)("p",{children:c}),Object(O.jsxs)("p",{children:["c ",i," \u0434\u043e ",r]})]}),Object(O.jsxs)("div",{className:bt.a.taskButtons,children:[Object(O.jsx)(s.b,{to:"/date/".concat(e,"/edit/").concat(n),children:Object(O.jsx)("button",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),Object(O.jsx)("button",{onClick:function(){return function(t,e){o&&clearInterval(o.intervalId),u(et(t,e))}(e,n)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},Ot="notifications/ADD_NOTIFICATION",ft="notifications/DELETE_NOTIFICATION",ht="notifications/ADD_TIMER",Tt={notifications:[],timers:[]},kt=function(t){return t.split(":").map((function(t){return Number(t)}))},_t=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return 3600*t+60*e+a},gt=function(){var t=new Date,e=t.getHours(),a=t.getMinutes(),n=t.getSeconds();return _t(e,a,n)},pt=function(t){return function(e,a){console.log(" \u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f ");var n=a().notificationsPage.timers,c=gt();t.forEach((function(t){if(!n.find((function(e){return e.taskId===t.id}))){var a=kt(t.startTime),i=Object(ot.a)(a,2),r=i[0],s=i[1],o=kt(t.remindTime),u=Object(ot.a)(o,2),l=u[0],d=u[1],j=_t(r,s)-_t(l,d)-c;if(j>=0){var b=setTimeout((function(){e({type:Ot,payload:m})}),1e3*j);e((O=t.id,{type:ht,taskId:O,intervalId:b}));var m={id:t.id,intervalId:b,text:t.text,startTime:t.startTime,endTime:t.endTime}}}var O}))}},vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Ot:return Object(k.a)(Object(k.a)({},t),{},{notifications:[].concat(Object(L.a)(t.notifications),[e.payload])});case ft:return Object(k.a)(Object(k.a)({},t),{},{notifications:t.notifications.filter((function(t){return t.id!==e.id})),timers:t.timers.filter((function(t){return t!==e.id}))});case ht:return Object(k.a)(Object(k.a)({},t),{},{timers:[].concat(Object(L.a)(t.timers),[{taskId:e.taskId,intervalId:e.intervalId}])});default:return t}};var xt=Object(o.e)((function(t){var e=t.match.params.dateValue,a=e.split("-"),n=Object(ot.a)(a,3),c=n[0],i=n[1],r=n[2],o=Object(T.c)((function(t){return t.tasksPage})),u=o.tasks[e],l=o.newTaskText,d=o.newTaskStartTime,j=o.newTaskEndTime,b=o.newTaskRemindTime,m=o.isPanelVisible,f=I.find((function(t){return t.number===Number(i)})).title,h=Object(T.b)(),k=function(){var t=gt(),a=_t.apply(void 0,Object(L.a)(kt(d))),n=_t.apply(void 0,Object(L.a)(kt(j))),c=_t.apply(void 0,Object(L.a)(kt(b)));l&&a>t+c&&n>a&&(h(tt(e)),h(z("")),h(Z(!0)),setTimeout((function(){h(Z(!1))}),1e3))};return Object(O.jsxs)("div",{className:lt.a.dateManagerContainer,children:[Object(O.jsxs)(s.b,{className:lt.a.closingDateManagerContainer,to:"/",children:[" ",Object(O.jsx)(dt.a,{})," "]}),Object(O.jsxs)("div",{className:lt.a.dateManager,children:[m&&Object(O.jsx)("div",{className:lt.a.successfullPanel,children:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e!"}),Object(O.jsxs)("h1",{className:lt.a.currentDate,children:[r," ",f," ",c]}),Object(O.jsxs)("div",{className:lt.a.tasks,onKeyDown:function(t){"Enter"===t.key&&k()},children:[Object(O.jsxs)("div",{className:lt.a.dataEntry,children:[Object(O.jsx)("input",{placeholder:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",className:lt.a.taskInput,value:l,onChange:function(t){h(z(t.target.value))}}),Object(O.jsxs)("div",{className:lt.a.inputContainer,children:[Object(O.jsx)("label",{htmlFor:"startTime",children:" \u041d\u0430\u0447\u0430\u043b\u043e "}),Object(O.jsx)("input",{id:"startTime",className:lt.a.taskInput,value:d,onChange:function(t){var e;h((e=t.target.value,{type:B,startTime:e}))},type:"time"})]}),Object(O.jsxs)("div",{className:lt.a.inputContainer,children:[Object(O.jsx)("label",{htmlFor:"endTime",children:" \u041a\u043e\u043d\u0435\u0446 "}),Object(O.jsx)("input",{id:"endTime",className:lt.a.taskInput,value:j,onChange:function(t){var e;h((e=t.target.value,{type:H,endTime:e}))},type:"time"})]}),Object(O.jsxs)("div",{className:lt.a.inputContainer,children:[Object(O.jsx)("label",{htmlFor:"remindTime",children:" \u041d\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u0437\u0430 "}),Object(O.jsx)("input",{id:"remindTime",className:lt.a.taskInput,value:b,onChange:function(t){var e;h((e=t.target.value,{type:W,remindTime:e}))},type:"time"})]})]}),Object(O.jsx)("button",{onClick:k,className:lt.a.addNewTask,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0446\u0435\u043b\u0438:"}),u&&u.map((function(t){return Object(O.jsx)(mt,{fullDate:e,taskData:t},t.id)}))]})]})]})]})})),Nt=a(12),yt=a.n(Nt);var Dt=Object(o.e)((function(t){var e=t.match.params,a=e.dateValue,c=e.id,i=Object(T.c)((function(t){return t.tasksPage.tasks[a].find((function(t){return t.id===c}))})),r=Object(T.b)(),o=Object(n.useState)(i.text),u=Object(ot.a)(o,2),l=u[0],d=u[1],j=Object(n.useState)(i.startTime),b=Object(ot.a)(j,2),m=b[0],f=b[1],h=Object(n.useState)(i.endTime),k=Object(ot.a)(h,2),_=k[0],g=k[1],p=Object(n.useState)(i.remindTime),v=Object(ot.a)(p,2),x=v[0],N=v[1],y=function(t,e){e(t.target.value)};return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:yt.a.backdrop}),Object(O.jsxs)("div",{className:yt.a.taskRedactorContainer,children:[Object(O.jsxs)(s.b,{to:"/date/".concat(a),className:yt.a.closingTaskRedactor,children:[" ",Object(O.jsx)(dt.a,{})," "]}),Object(O.jsx)("h1",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(O.jsx)("input",{className:yt.a.taskInput,value:l,onChange:function(t){return y(t,d)}}),Object(O.jsxs)("div",{className:yt.a.taskContainer,children:[Object(O.jsx)("label",{htmlFor:"changeStartTime",children:"\u041d\u0430\u0447\u0430\u043b\u043e"}),Object(O.jsx)("input",{id:"changeStartTime",className:yt.a.taskInput,value:m,onChange:function(t){return y(t,f)},type:"time"})]}),Object(O.jsxs)("div",{className:yt.a.taskContainer,children:[Object(O.jsx)("label",{htmlFor:"changeEndTime",children:"\u041a\u043e\u043d\u0435\u0446"}),Object(O.jsx)("input",{id:"changeEndTime",className:yt.a.taskInput,value:_,onChange:function(t){return y(t,g)},type:"time"})]}),Object(O.jsxs)("div",{className:yt.a.taskContainer,children:[Object(O.jsx)("label",{htmlFor:"changeRemindTime",children:"\u041d\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u0437\u0430"}),Object(O.jsx)("input",{id:"changeRemindTime",className:yt.a.taskInput,value:x,onChange:function(t){return y(t,N)},type:"time"})]}),Object(O.jsx)(s.b,{className:yt.a.successOnEdit,onClick:function(){l&&m&&_&&r(at(a,c,l,m,_,x))},to:"/date/".concat(a),children:"OK"})]})]})})),Ct=a(26),It=a.n(Ct);var Mt=function(){var t=Object(T.c)((function(t){return t.notificationsPage.notifications}));console.log("notifications >>> ",t,t.length);var e=Object(T.c)((function(t){return t.calendarPage})),a=e.currentYear,c=e.currentMonth,i=e.currentDay,r="".concat(a,"-").concat(c,"-").concat(i),s=Object(T.c)((function(t){return t.tasksPage.tasks}))[r]||[],o=Object(T.b)();return Object(n.useEffect)((function(){o(pt(s))}),[s]),Object(O.jsx)("div",{className:It.a.notificationsContainer,children:t.length>0&&t.map((function(t){return Object(O.jsx)(St,{noteId:t.id,text:t.text,startTime:t.startTime,endTime:t.endTime},t.id)}))})};function St(t){var e=Object(T.b)(),a=function(t){e({type:ft,id:t})};return Object(O.jsxs)("div",{className:It.a.notification,children:[Object(O.jsxs)("button",{onClick:function(){return a(t.noteId)},className:It.a.closeNotification,to:"/",children:[" ",Object(O.jsx)(dt.a,{})," "]}),Object(O.jsx)("h3",{children:"\u041d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435"}),Object(O.jsxs)("p",{children:['\u0423 \u0432\u0430\u0441 \u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e "',t.text,'" \u0441 ',t.startTime," \u0434\u043e ",t.endTime]})]})}var Et=function(){return Object(O.jsx)(s.a,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsxs)(o.a,{path:"/",children:[Object(O.jsx)(st,{}),Object(O.jsx)(Mt,{})]}),Object(O.jsx)(o.a,{path:"/date/:dateValue",children:Object(O.jsx)(xt,{})}),Object(O.jsx)(o.a,{path:"/date/:dateValue/edit/:id",children:Object(O.jsx)(Dt,{})})]})})},wt=a(27),At=a(38),Pt=Object(wt.b)({calendarPage:S,tasksPage:nt,notificationsPage:vt}),Rt=Object(wt.c)(Pt,Object(wt.a)(At.a));r.a.render(Object(O.jsx)(T.a,{store:Rt,children:Object(O.jsx)(Et,{})}),document.getElementById("root"))},8:function(t,e,a){t.exports={dateManagerContainer:"DateManager_dateManagerContainer__3QOmv",dateManager:"DateManager_dateManager__38OQq",dataManagerAppearance:"DateManager_dataManagerAppearance__1gcjD",successfullPanel:"DateManager_successfullPanel__24MrC",closingDateManagerContainer:"DateManager_closingDateManagerContainer__2NYdC",currentDate:"DateManager_currentDate__3T4-B",addNewTask:"DateManager_addNewTask__L7hMH",tasks:"DateManager_tasks__or5hu",inputContainer:"DateManager_inputContainer__vUM-K",taskInput:"DateManager_taskInput__2txvL"}}},[[50,1,2]]]);
//# sourceMappingURL=main.91d353c8.chunk.js.map